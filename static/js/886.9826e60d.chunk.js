"use strict";(self.webpackChunkreact_mk_blogging=self.webpackChunkreact_mk_blogging||[]).push([[886],{3575:(e,n,r)=>{r.d(n,{ob:()=>s,ZP:()=>i,gS:()=>d});r(5043);var t=r(579);const s=e=>{let{onClick:n=(()=>{})}=e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:n,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})},i=e=>{let{onClick:n=(()=>{})}=e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:n,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},d=e=>{let{onClick:n=(()=>{})}=e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:n,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}},8150:(e,n,r)=>{r.d(n,{$:()=>p});var t,s=r(7528),i=(r(5043),r(4574)),d=r(579);const o=i.Ay.div(t||(t=(0,s.A)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(e=>e.size),(e=>e.size),(e=>e.borderSize),(e=>e.borderSize),(e=>e.borderSize)),a=e=>{let{size:n="40px",borderSize:r="5px"}=e;return(0,d.jsx)(o,{size:n,borderSize:r})};var l,c,h,x,u=r(5475);const g=i.Ay.button(l||(l=(0,s.A)(["\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 16px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ",";\n  ",";\n    ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(e=>e.height||"66px"),(e=>"secondary"===e.kind&&(0,i.AH)(c||(c=(0,s.A)(["\n      color: ",";\n      background-color: white;\n    "])),(e=>e.theme.primary))),(e=>"primary"===e.kind&&(0,i.AH)(h||(h=(0,s.A)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(e=>e.theme.primary),(e=>e.theme.secondary))),(e=>"ghost"===e.kind&&(0,i.AH)(x||(x=(0,s.A)(["\n      color: ",";\n      background-color: rgba(29, 192, 113, 0.1);\n    "])),(e=>e.theme.primary)))),p=e=>{let{type:n="button ",onClick:r=(()=>{}),children:t,kind:s="primary",...i}=e;const{isLoading:o,to:l}=i,c=o?(0,d.jsx)(a,{}):t;return""!==l&&"string"===typeof l?(0,d.jsx)(u.k2,{to:l,className:"inline-block",children:(0,d.jsx)(g,{type:n,kind:s,onClick:r,...i,children:c})}):(0,d.jsx)(g,{type:n,kind:s,onClick:r,...i,children:c})}},253:(e,n,r)=>{r.d(n,{J:()=>a,$:()=>h});var t,s=r(7528),i=(r(5043),r(4574)),d=r(579);const o=i.Ay.label(t||(t=(0,s.A)(["\n  color: ",";\n  font-weight: 600;\n  cursor: pointer;\n"])),(e=>e.theme.grayDark)),a=e=>{let{htmlFor:n="",children:r,...t}=e;return(0,d.jsx)(o,{htmlFor:n,...t,children:r})};var l;const c=i.Ay.span(l||(l=(0,s.A)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"]))),h=e=>{let{children:n,type:r="default"}=e,t="text-gray-500 bg-gray-100";switch(r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,d.jsx)(c,{className:t,children:n})}},106:(e,n,r)=>{r.r(n),r.d(n,{default:()=>a});var t,s=r(7528),i=(r(5043),r(4574)),d=r(579);const o=i.Ay.div(t||(t=(0,s.A)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f3f3f3;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"]))),a=e=>{let{children:n}=e;return(0,d.jsx)(o,{children:(0,d.jsx)("table",{children:n})})}},9718:(e,n,r)=>{r.d(n,{X:()=>t});const{default:t}=r(106)},9810:(e,n,r)=>{r.d(n,{A:()=>s});r(5043);var t=r(579);const s=e=>{let{title:n="",desc:r="",children:s,categoryId:i=""}=e;return(0,t.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:n}),(0,t.jsxs)("p",{className:"dashboard-short-desc",children:[r,(0,t.jsx)("span",{className:"text-[#1DC071]",children:i})]})]}),s]})}},1886:(e,n,r)=>{r.r(n),r.d(n,{default:()=>f});var t=r(9810),s=r(5043),i=r(3575),d=r(8150),o=r(253),a=r(9718),l=r(5883),c=r(6032),h=r(3536),x=r(3216),u=r(64),g=r.n(u),p=r(6543),m=r(579);const j=()=>{const[e,n]=(0,s.useState)([]),[r,t]=(0,s.useState)(""),u=(0,x.Zp)(),[j,b]=(0,s.useState)(),[f,v]=(0,s.useState)(0);(0,s.useEffect)((()=>{!async function(){const e=(0,c.rJ)(l.db,"users"),t=r?(0,c.P)(e,(0,c._M)("fullname",">=",r),(0,c._M)("fullname","<=",r+"utf8")):(0,c.P)(e,(0,c.AB)(10)),s=await(0,c.GG)(t),i=s.docs[s.docs.length-1];(0,c.aQ)(e,(e=>{v(e.size)})),(0,c.aQ)(t,(e=>{const r=[];e.forEach((e=>{r.push({id:e.id,...e.data()})})),n(r)})),b(i)}()}),[r]);const k=(0,h.debounce)((e=>{t(e.target.value)}),500);return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"mb-10 flex justify-end",children:(0,m.jsx)("input",{type:"text",placeholder:"Search user ... ",className:"py-4 px-5 border border-gray-400 rounded-lg outline-none",onChange:k})}),(0,m.jsxs)(a.X,{children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Id"}),(0,m.jsx)("th",{children:"Info"}),(0,m.jsx)("th",{children:"Username"}),(0,m.jsx)("th",{children:"Email address"}),(0,m.jsx)("th",{children:"Status"}),(0,m.jsx)("th",{children:"Role"}),(0,m.jsx)("th",{children:"Actions"})]})}),(0,m.jsx)("tbody",{children:e.length>0&&e.map((e=>{var n;return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{title:e.id,children:e.id.slice(0,5)+"..."}),(0,m.jsx)("td",{className:"whitespace-nowrap",children:(0,m.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,m.jsx)("img",{src:null===e||void 0===e?void 0:e.avatar,alt:"",className:"w-10 h-10 object-cover rounded-md flex-shrink-0"}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("h3",{children:null===e||void 0===e?void 0:e.fullname}),(0,m.jsx)("time",{className:"text-sm text-gray-400",children:new Date(1e3*(null===e||void 0===e||null===(n=e.createdAt)||void 0===n?void 0:n.seconds)).toLocaleDateString("vi-VI")})]})]})}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.username}),(0,m.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),(0,m.jsxs)("td",{children:[e.status===p.ag.ACTIVE&&(0,m.jsx)(o.$,{type:"success",children:"Active"}),e.status===p.ag.PENDING&&(0,m.jsx)(o.$,{type:"warning",children:"Pending"}),e.status===p.ag.BAN&&(0,m.jsx)(o.$,{type:"danger",children:"Rejected"})]}),(0,m.jsxs)("td",{children:[e.role===p.KZ.ADMIN&&"Admin",e.role===p.KZ.MOD&&"Mod",e.role===p.KZ.USER&&"User"]}),(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,m.jsx)(i.ZP,{onClick:()=>u("/manage/update-user?id=".concat(e.id))}),(0,m.jsx)(i.ob,{onClick:()=>(async e=>{const n=(0,c.H9)(l.db,"users",e.id);g().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async e=>{e.isConfirmed&&(await(0,c.kd)(n),g().fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"}))}))})(e)})]})})]},e.id)}))})]}),f>e.length&&(0,m.jsxs)("div",{className:"mt-10",children:[(0,m.jsx)(d.$,{onClick:async()=>{const r=(0,c.P)((0,c.rJ)(l.db,"users"),(0,c.HM)(j),(0,c.AB)(10));(0,c.aQ)(r,(r=>{let t=[];r.forEach((e=>{t.push({id:e.id,...e.data()})})),n([...e,...t])}));const t=await(0,c.GG)(r),s=t.docs[t.docs.length-1];b(s)},className:"mx-auto",children:"Load more"}),f]})]})};var b=r(1625);const f=()=>{const{userInfo:e}=(0,b.A)();return e.role!==p.KZ.ADMIN?null:(0,m.jsxs)("div",{children:[(0,m.jsx)(t.A,{title:"Users",desc:"Manage your user",children:(0,m.jsx)("div",{children:(0,m.jsx)(d.$,{kind:"ghost",to:"/manage/add-user",children:"Add new user"})})}),(0,m.jsx)(j,{})]})}}}]);
//# sourceMappingURL=886.9826e60d.chunk.js.map